<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui">
	<ui:composition template="../layouts/layout-doctor.xhtml">
     	<ui:define name="content">
      		<div class="row">
      			<p:card styleClass="w-100">
      				<div class="row mb-4">
      					<div class="col-6">
      						<div class="ui-card-title">
		                    	Detalles de la cita
		                    </div>
      					</div>
      					<div class="col-6">
      						<div class="d-flex justify-content-end">
      							<div class="row w-100">
      								<div class="col-6">
      									<div class="d-flex justify-content-end">
      										<h:form>
      											<p:inputText value="#{citaDetallesController.cita.citasId}" type="hidden" />
	      										<h:commandButton action="#{citaDetallesController.finishAppointment}" value="Finalizar cita" styleClass="rounded-button ui-button-warning width-max-content" />
	      									</h:form>
      									</div>
      								</div>
      								<div class="col-6">
      									<p:button href="/cita/proxima" value="Agendar proxima cita" styleClass="rounded-button" >
      										<f:param value="#{citaDetallesController.cita.citasId}" name="citaId" />
      									</p:button>
      								</div>
      							</div>
      						</div>
      					</div>
      				</div>
      				<div class="row">
      					<div class="col-6">
      						<p>
      							#{citaDetallesController.cita.titulo}
      						</p>
      					</div>
      					<div class="col-6">
      						<p>
      							#{citaDetallesController.cita.codigoCita}
      						</p>
      					</div>
      				</div>
      				<div class="row mb-3">
      					<div class="col-6">
      						<p>
      							<b>Fecha: </b>
      							<h:outputText value="#{citaDetallesController.cita.fechaCita}" >
								    <f:convertDateTime pattern="yyyy-MM-dd" />
								</h:outputText>
      						</p>
      					</div>
      					<div class="col-6">
      						<p>
      							<b>Hora:</b> #{citaDetallesController.cita.horaCita}
      						</p>
      					</div>
      					<div class="col-12">
      						<p>
      							#{citaDetallesController.cita.extras}
      						</p>
      					</div>
      				</div>
      				<div class="mb-3">
      					<h3>Datos del paciente</h3>
      				</div>
      				<div class="row mb-3">
      					<div class="col-6">
      						<p>
      							<b>Nombre:</b> #{citaDetallesController.cita.idPaciente.nombrePaciente}
      						</p>
      					</div>
      					<div class="col-6">
      						<p>
      							<b>Apellido:</b> #{citaDetallesController.cita.idPaciente.apellidoPaciente}
      						</p>
      					</div>
      					<div class="col-4">
      						<p>
      							<b>Fecha de nacimiento: </b>
      							<h:outputText value="#{citaDetallesController.cita.idPaciente.fechaNacimiento}" >
								    <f:convertDateTime pattern="yyyy-MM-dd" />
								</h:outputText>
      						</p>
      					</div>
      					<div class="col-4">
      						<p>
      							<b>GÃ©nero: </b>
      							<c:choose>
      								<c:when test="${citaDetallesController.cita.idPaciente.sexo == 'M'}">
      									Masculino
      								</c:when>
      								<c:when test="${citaDetallesController.cita.idPaciente.sexo == 'F'}">
      									Femenino
      								</c:when>
      								<c:otherwise>
      									Sin especificar
      								</c:otherwise>
      							</c:choose>
      						</p>
      					</div>
      					<div class="col-4">
      						<p>
      							<b>Edad:</b> #{citaDetallesController.edad}
      						</p>
      					</div>
      				</div>
      				<div class="row">
      					<div class="col-12">
      						<center>
      							<p:button href="/doctor/paciente" value="Ver diagnosticos previos del paciente" styleClass="rounded-button width-max-content" >
      								<f:param value="#{citaDetallesController.cita.idPaciente.pacienteId}" name="pacienteId" />
      							</p:button>
      						</center>
      					</div>
      				</div>
      			</p:card>
      		</div>
      	</ui:define>
	</ui:composition>
</html>