<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui">
	<ui:composition template="../layouts/layout-doctor.xhtml">
     	<ui:define name="content">
     		<div class="row">
     			<div class="col-12">
     				<p:card styleClass="w-100">
     					<div class="row mb-4">
	      					<div class="col-12">
	      						<div class="ui-card-title text-center">
			                    	Agendando proxima cita para el paciente #{agendarCita.paciente.nombrePaciente} #{agendarCita.paciente.apellidoPaciente}
			                    </div>
	      					</div>
	      				</div>
	      				<div class="mb-3">
	      					<div class="row">
	      						<div class="col-12">
	      							<div class="d-flex justify-content-start">
	      								<p:button icon="pi pi-arrow-left" href="/cita/detalles" value="Regresar" styleClass="rounded-button" >
								    		<f:param value="#{param['citaId']}" name="citaId" />
								    	</p:button>
	      							</div>
	      						</div>	
	      					</div>
	      				</div>
	      				<div class="mb-3">
	      					<h:form>
	      						<div class="container">
		                            <div class="row">
		                                <div class="d-flex align-items-center justify-content-center">
		                                    <h:panelGrid columns="4" cellpadding="4">
		                                        <p:outputLabel value="Titulo: " />
		                                        <p:inputText value="${agendarCita.cita.titulo}" />
		
		                                        <p:outputLabel value="Extras: " />
		                                        <p:inputText value="${agendarCita.cita.extras}" />
		
		                                        <p:outputLabel value="Fecha: " />
		                                        <p:calendar value="${agendarCita.cita.fechaCita}"
		                                                    pattern="yyyy-mm-dd" effect="explode" locale="es"
		                                                    navigator="true" class="fechanacimiento"/>
		
		                                        <p:outputLabel for="timeonly" value="Hora: "/>
		                                        <p:datePicker id="timeonly" value="${agendarCita.cita.horaCita}" timeOnly="true" pattern="hh:mm"/>
		
		                                        <p:outputLabel for="doctores" value="Doctor: "/>
		                                        <p:selectOneMenu id="doctores"
		                                                         value="${agendarCita.doctorCita}">
		                                            <f:selectItems value="${agendarCita.doctores}" var="doc"
		                                                           itemLabel="${doc.nombreDoctor} ${doc.apellidoDoctor}" itemValue="${doc.doctorId}"/>
		                                        </p:selectOneMenu>
		                                    </h:panelGrid>
		                                </div>
		                            </div>
		                            <div class="d-flex justify-content-center align-items-center text-center mt-5 mb-5">
		                                <p:commandButton 
		                                	ajax="null"
		                                	value="Agendar cita"
		                                    action="${agendarCita.proximaCita}"
		                                    type="submit"
		                                />
		                            </div>
		                        </div>
	      					</h:form>
	      				</div>
     				</p:card>
     			</div>
     		</div>
     	</ui:define>
    </ui:composition>
</html>